<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Context Protocol - Uppsala University</title>
    
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/theme/black.css">
    
    <!-- Custom presentation CSS -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* Reveal.js specific overrides */
        .reveal .slides section {
            text-align: left;
        }
        .reveal h1, .reveal h2, .reveal h3 {
            color: #ffffff;
        }
        .reveal .notes {
            display: none;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- Slide 001: Title + Overview -->
            <section>
                <div class="slide">
                    <h1 class="title-slide-h1">Model Context Protocol</h1>
                    <div class="subtitle-large">Connecting LLMs to External Systems</div>
                    
                    <div class="presenter-info">
                        Uppsala University<br>
                        November 18, 2025
                    </div>

                    <div class="agenda">
                        <div class="agenda-title">Agenda</div>
                        <div class="agenda-item">
                            <span class="material-icons agenda-icon">psychology</span>
                            <div>LLM Fundamentals</div>
                        </div>
                        <div class="agenda-item">
                            <span class="material-icons agenda-icon">extension</span>
                            <div>Context & Integration Challenges</div>
                        </div>
                        <div class="agenda-item">
                            <span class="material-icons agenda-icon">electrical_services</span>
                            <div>Deep Dive: Model Context Protocol</div>
                        </div>
                    </div>
                </div>
                <aside class="notes"></aside>
            </section>
            
            <!-- Slide 002: What is a Large Language Model? -->
            <section>
                <div class="slide">
                    <h1>What is a Large Language Model?</h1>
                    
                    <div class="flow-diagram">
                        <div class="flow-box">Input Text</div>
                        <span class="material-icons flow-arrow">arrow_forward</span>
                        <div class="flow-box flow-box-highlight">
                            Neural Network<br><small class="flow-box-note">(Black Box)</small>
                        </div>
                        <span class="material-icons flow-arrow">arrow_forward</span>
                        <div class="flow-box">Output Text</div>
                    </div>

                    <div class="characteristics">
                        <div class="characteristic">
                            <span class="material-icons characteristic-icon">memory</span>
                            <div class="characteristic-title">Billions of Parameters</div>
                            <div class="characteristic-text">
                                Hundreds of billions of weights learned during training
                            </div>
                        </div>

                        <div class="characteristic">
                            <span class="material-icons characteristic-icon">database</span>
                            <div class="characteristic-title">Massive Training Data</div>
                            <div class="characteristic-text">
                                Trained on internet text, books, code repositories, and more
                            </div>
                        </div>

                        <div class="characteristic">
                            <span class="material-icons characteristic-icon">trending_up</span>
                            <div class="characteristic-title">Next Token Prediction</div>
                            <div class="characteristic-text">
                                Core operation: predict the next token in a sequence
                            </div>
                        </div>
                    </div>
                </div>
                <aside class="notes"></aside>
            </section>
            
            <!-- Slide 003: Transformer Architecture -->
            <section>
                <div class="slide">
                    <h1>Transformer Architecture (Simplified)</h1>
                    
                    <div class="architecture-flow">
                        <div class="flow-row">
                            <div class="flow-item">
                                <span class="material-icons flow-icon">text_fields</span>
                                <div class="flow-content">
                                    <div class="flow-title">Input Tokens</div>
                                    <div class="flow-description">Text converted into numerical vectors</div>
                                </div>
                            </div>
                            <span class="material-icons flow-arrow">arrow_downward</span>
                        </div>

                        <div class="flow-row">
                            <div class="flow-item">
                                <span class="material-icons flow-icon">layers</span>
                                <div class="flow-content">
                                    <div class="flow-title">Embeddings</div>
                                    <div class="flow-description">Tokens converted to numerical representations</div>
                                </div>
                            </div>
                            <span class="material-icons flow-arrow">arrow_downward</span>
                        </div>

                        <div class="flow-row">
                            <div class="flow-item flow-highlight">
                                <span class="material-icons flow-icon">visibility</span>
                                <div class="flow-content">
                                    <div class="flow-title">Attention Mechanism</div>
                                    <div class="flow-description">Weighs importance of different parts of input when processing each token. Enables understanding of relationships and long-range dependencies.</div>
                                </div>
                            </div>
                            <span class="material-icons flow-arrow">arrow_downward</span>
                        </div>

                        <div class="flow-row">
                            <div class="flow-item">
                                <span class="material-icons flow-icon">account_tree</span>
                                <div class="flow-content">
                                    <div class="flow-title">Feed-Forward Networks</div>
                                    <div class="flow-description">Transform representations, building increasingly abstract features through layers</div>
                                </div>
                            </div>
                            <span class="material-icons flow-arrow">arrow_downward</span>
                        </div>

                        <div class="flow-row">
                            <div class="flow-item">
                                <span class="material-icons flow-icon">bar_chart</span>
                                <div class="flow-content">
                                    <div class="flow-title">Output Probabilities</div>
                                    <div class="flow-description">Probability distribution over possible next tokens</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <aside class="notes"></aside>
            </section>
            
            <!-- Slide 004: Tokens, Context Windows, and Limitations -->
            <section>
                <div class="slide">
                    <h1>Tokens, Context Windows, and Limitations</h1>
                    
                    <div class="content-grid">
                        <!-- Tokens Section -->
                        <div class="section">
                            <div class="section-title">
                                <span class="material-icons section-icon">label</span>
                                Tokens
                            </div>
                            <div class="token-example">
                                <div class="token-text">"Hello world"</div>
                                <div class="token-breakdown">
                                    <span class="token">Hello</span>
                                    <span class="token"> world</span>
                                </div>
                            </div>
                            <div class="token-info">
                                Text broken into chunks. In English, ~3/4 of a word per token. Everything is measured in tokens.
                            </div>
                        </div>

                        <!-- Context Window Section -->
                        <div class="section">
                            <div class="section-title">
                                <span class="material-icons section-icon">memory</span>
                                Context Window
                            </div>
                            <div class="context-window">
                                <div class="window-box">
                                    <div class="window-text">8K - 200K+ tokens</div>
                                </div>
                                <div class="window-info">
                                    Limited working memory. Even largest models can't fit massive codebases or document collections.
                                </div>
                            </div>
                        </div>

                        <!-- Limitations Section -->
                        <div class="section limitations">
                            <div class="section-title">
                                <span class="material-icons section-icon">warning</span>
                                Key Limitations
                            </div>
                            <div class="limitations-grid">
                                <div class="limitation">
                                    <span class="material-icons limitation-icon">lock</span>
                                    <div class="limitation-content">
                                        <div class="limitation-title">Static Knowledge</div>
                                        <div class="limitation-text">Only knows what was in training data. Can't access new information after training.</div>
                                    </div>
                                </div>

                                <div class="limitation">
                                    <span class="material-icons limitation-icon">block</span>
                                    <div class="limitation-content">
                                        <div class="limitation-title">No Tool Use</div>
                                        <div class="limitation-text">Can't execute code, query databases, or call APIs - only generates text suggestions.</div>
                                    </div>
                                </div>

                                <div class="limitation">
                                    <span class="material-icons limitation-icon">history</span>
                                    <div class="limitation-content">
                                        <div class="limitation-title">No Memory</div>
                                        <div class="limitation-text">Each conversation starts fresh. Doesn't remember previous sessions.</div>
                                    </div>
                                </div>

                                <div class="limitation">
                                    <span class="material-icons limitation-icon">error</span>
                                    <div class="limitation-content">
                                        <div class="limitation-title">Hallucination</div>
                                        <div class="limitation-text">When uncertain, generates plausible-sounding but incorrect information.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <aside class="notes"></aside>
            </section>
            
            <!-- Slide 005: The Problem - LLMs are Isolated -->
            <section>
                <div class="slide">
                    <h1>The Problem - LLMs are Isolated</h1>
                    
                    <div class="isolation-container">
                        <div class="llm-bubble">
                            <span class="material-icons llm-icon">smart_toy</span>
                            <div class="llm-label">LLM</div>
                        </div>

                        <div class="gap-indicator">❌ Disconnected ❌</div>

                        <div class="external-systems">
                            <div class="system-item">
                                <span class="material-icons system-icon">storage</span>
                                <div class="system-label">Databases</div>
                            </div>

                            <div class="system-item">
                                <span class="material-icons system-icon">cloud</span>
                                <div class="system-label">APIs</div>
                            </div>

                            <div class="system-item">
                                <span class="material-icons system-icon">folder</span>
                                <div class="system-label">File Systems</div>
                            </div>

                            <div class="system-item">
                                <span class="material-icons system-icon">update</span>
                                <div class="system-label">Real-time Data</div>
                            </div>

                            <div class="system-item">
                                <span class="material-icons system-icon">person</span>
                                <div class="system-label">User-specific Info</div>
                            </div>

                            <div class="system-item">
                                <span class="material-icons system-icon">calendar_today</span>
                                <div class="system-label">Calendars</div>
                            </div>

                            <div class="system-item">
                                <span class="material-icons system-icon">email</span>
                                <div class="system-label">Emails</div>
                            </div>

                            <div class="system-item">
                                <span class="material-icons system-icon">code</span>
                                <div class="system-label">Codebases</div>
                            </div>
                        </div>
                    </div>
                </div>
                <aside class="notes"></aside>
            </section>
            
            <!-- Slide 006: Training vs Inference -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 007: Context Window -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 008: Limitations -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 009: What is MCP? -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 010: MCP Architecture -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 011: Key Components -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 012: Resources -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 013: Prompts -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 014: Tools -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 015: Example Implementation -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 016: Security -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 017: Use Cases -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 018: Getting Started -->
            <!-- TODO: Add slide content -->
            
            <!-- Slide 019: Key Takeaways -->
            <!-- TODO: Add slide content -->
        </div>
    </div>

    <!-- Reveal.js JS -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.6.1/dist/reveal.js"></script>
    
    <script>
        // Initialize Reveal.js
        Reveal.initialize({
            hash: true,
            controls: true,
            progress: true,
            center: false,
            touch: true,
            loop: false,
            rtl: false,
            navigationMode: 'default',
            shuffle: false,
            fragments: true,
            fragmentInURL: true,
            embedded: false,
            help: true,
            pause: true,
            showNotes: false,
            autoPlayMedia: null,
            preloadIframes: null,
            autoAnimate: true,
            autoAnimateMatcher: null,
            autoAnimateEasing: 'ease',
            autoAnimateDuration: 1.0,
            autoAnimateUnmatched: true,
            autoSlide: 0,
            autoSlideStoppable: true,
            autoSlideMethod: null,
            defaultTiming: null,
            mouseWheel: false,
            previewLinks: false,
            postMessage: true,
            postMessageEvents: false,
            focusBodyOnPageVisibilityChange: true,
            transition: 'slide',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            view: null,
            viewDistance: 3,
            parallaxBackgroundImage: '',
            parallaxBackgroundSize: '',
            parallaxBackgroundRepeat: '',
            parallaxBackgroundPosition: '',
            parallaxBackgroundHorizontal: null,
            parallaxBackgroundVertical: null,
            // Presenter mode configuration
            keyboard: {
                83: () => {
                    // Press 'S' to open presenter mode (reveal.js default)
                    // Reveal.js handles this automatically via postMessage
                }
            }
        });

        // Get presentation name from URL path
        function getPresentationName() {
            return 'uppsala_uni_18_nov_2025';
        }

        // Load notes from API and inject into slides
        async function loadNotes() {
            const presentationName = getPresentationName();
            if (!presentationName) return;

            try {
                const response = await fetch(`/api/presentations/${presentationName}/notes`);
                const data = await response.json();
                
                if (data.notes && data.notes.length > 0) {
                    // Inject notes into corresponding slides
                    data.notes.forEach(noteData => {
                        const slideIndex = noteData.slide - 1; // Convert to 0-based index
                        const slides = document.querySelectorAll('.reveal .slides section');
                        
                        if (slides[slideIndex]) {
                            let notesElement = slides[slideIndex].querySelector('aside.notes');
                            
                            if (!notesElement) {
                                notesElement = document.createElement('aside');
                                notesElement.className = 'notes';
                                slides[slideIndex].appendChild(notesElement);
                            }
                            
                            // Convert markdown notes to HTML
                            if (noteData.notes) {
                                // Simple markdown to HTML conversion for basic formatting
                                let htmlNotes = noteData.notes
                                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                                    .replace(/\*(.*?)\*/g, '<em>$1</em>')
                                    .replace(/`(.*?)`/g, '<code>$1</code>')
                                    .replace(/\n\n/g, '</p><p>')
                                    .replace(/\n/g, '<br>');
                                
                                if (!htmlNotes.startsWith('<p>')) {
                                    htmlNotes = '<p>' + htmlNotes;
                                }
                                if (!htmlNotes.endsWith('</p>')) {
                                    htmlNotes = htmlNotes + '</p>';
                                }
                                
                                notesElement.innerHTML = htmlNotes;
                            }
                        }
                    });
                    
                    // Trigger Reveal.js to update notes if already initialized
                    if (Reveal.isReady()) {
                        Reveal.sync();
                    }
                }
            } catch (error) {
                console.error('Error loading notes:', error);
            }
        }

        // Load notes after Reveal.js is initialized
        Reveal.addEventListener('ready', () => {
            loadNotes();
        });
        
        // Also load notes when slides change (for presenter view)
        Reveal.addEventListener('slidechanged', () => {
            // Notes will already be injected, but we ensure they're visible in presenter mode
        });

        // Check if we should open in presenter mode
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('view') === 'speaker') {
            // This is the presenter view window
            // Reveal.js will handle the presenter mode automatically
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Prevent default behavior for presentation navigation
            if (['ArrowRight', 'ArrowLeft', 'Space', 'PageDown', 'PageUp'].includes(e.key)) {
                // Reveal.js handles these
            }
        });
    </script>
</body>
</html>

